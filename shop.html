<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1, minimum-scale=1">
    <title>–ú–∞–≥–∞–∑–∏–Ω</title>
    <style>
body {
    background-color: rgb(0, 0, 0); /* –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω */
    min-height: calc(100vh + 10cm); /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É –Ω–∞ 2 —Å–º */
    display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
    flex-direction: column; /* –£–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
    justify-content: flex-start; /* –≠–ª–µ–º–µ–Ω—Ç—ã –∏–¥—É—Ç —Å–≤–µ—Ä—Ö—É */
    align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
    padding: 20px; /* –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
    color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
    font-size: 15px; /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
    user-select: none; /* –ó–∞–ø—Ä–µ—Ç –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
    position: relative; /* –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
    overflow-y: auto; /* –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
    -webkit-overflow-scrolling: touch; /* –î–ª—è –ø–ª–∞–≤–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
    font-size: 2vw; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞ */
}

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–≤–µ–∑–¥ */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1; /* –§–æ–Ω –Ω–∏–∂–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
        }

        /* –°—Ç–∏–ª—å –∫–∞–∂–¥–æ–π –∑–≤–µ–∑–¥—ã */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: white;
            border-radius: 50%;
            opacity: 0.8;
            animation: flyStar 5s linear infinite;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ø–æ–∫—É–ø–∫–∏ */
        #purchase-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px; /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            white-space: nowrap; /* –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
            color: white;
            z-index: 10;
        }

        #crystalsCount, #keysCount {
            font-size: 20px;
            letter-spacing: 1.2px;
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.6);
            padding: 10px 20px;
            border-radius: 5px;
            z-index: 2;
        }

        #keysCount {
            top: 60px;
        }

        @keyframes flyStar {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(100vw);
                opacity: 0;
            }
        }
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ */
        .button-container {
    display: flex;
    justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
    gap: 20px;
    margin-top: 100px;
}

.shop-item {
    display: flex;
    flex-direction: column;
    align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
}

.shop-button {
    width: 80px;
    height: 80px;
    background-color: transparent;
    border-radius: 10px;
    cursor: pointer;
    overflow: hidden;
    border: none;
}

.shop-button img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.item-description {
    text-align: center;
    margin-top: 10px;
}

.buy-button {
    display: inline-flex;
    align-items: center;
    justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∫–æ–Ω–∫–∏ –≤ –∫–Ω–æ–ø–∫–µ */
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 16px;
    background-color: transparent;
    color: white;
    border: 1px solid white;
    border-radius: 5px;
    cursor: pointer;
}

.buy-button img {
    width: 24px;
    vertical-align: middle;
}
.buy-button {
    transition: background-color 0.5s ease, color 0.5s ease;
}
.buy-button span {
    margin-left: 10px;
}
        /* –°—Ç–∏–ª—å –¥–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ –≤–Ω–∏–∑—É */
        .nav-buttons {
        display: flex;
        justify-content: space-around;
        position: absolute;
        bottom: 20px;
        width: 80px; /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–≤–∞–¥—Ä–∞—Ç–Ω—É—é —à–∏—Ä–∏–Ω—É */
        height: 80px; /* –í—ã—Å–æ—Ç–∞ —Ç–∞–∫–∞—è –∂–µ, –∫–∞–∫ —à–∏—Ä–∏–Ω–∞ */
        padding: 0 20px; /* –û—Ç—Å—Ç—É–ø—ã –ø–æ –±–æ–∫–∞–º */
    }

    .nav-buttons {
    display: flex;
    justify-content: space-around;
    position: fixed; /* –§–∏–∫—Å–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ */
    bottom: 20px;
    left: 50%; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
    transform: translateX(-50%); /* –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
    width: 180px; /* –®–∏—Ä–∏–Ω–∞ –∫–Ω–æ–ø–æ–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –≤–∏–¥–Ω—ã */
    height: 80px;
    padding: 0 20px;
}

.nav-button {
    flex: 1;
    margin: 0 10px;
    height: 50px;
    background-color: white;
    border: 2px solid white;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s, color 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-button img {
    width: 50px;
    height: 50px;
}

.nav-button:hover {
    background-color: lightgray;
}

.nav-button span {
    color: black;
}
/* –ê–Ω–∏–º–∞—Ü–∏—è –º–∏–≥–∞–Ω–∏—è */
@keyframes blink {
    50% {
        opacity: 0.5;
    }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è */
@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫ –±–ª–æ–∫—É —Å –ø–æ–¥–∞—Ä–∫–æ–º –¥–Ω—è, –∫–æ–≥–¥–∞ –ø–æ–¥–∞—Ä–æ–∫ –¥–æ—Å—Ç—É–ø–µ–Ω */
#dailyGift.available {
    animation: blink 1s infinite, bounce 0.5s infinite;
    border-color: yellow;
}

    </style>
</head>
<body>
<h1 style='text-align: center; color: white;'>–ú–∞–≥–∞–∑–∏–Ω</h1>
    <div id="purchase-message"></div>
    <div id="crystalsCount">–∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤: <span id="totalCrystals">0</span></div>
<div id="keysCount">–∫–ª—é—á–µ–π: <span id="totalKeys">0</span></div>
<div id="purchase-message" style="display: none;"></div> <!-- –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ–¥–∞—Ä–∫–∞ -->

<!-- –ü–æ–¥–∞—Ä–æ–∫ –¥–Ω—è -->
<div id="dailyGift" onclick="claimGift()" style="border: 2px solid white; padding: 20px; margin-top: 20px; text-align: center; border-radius: 10px; color: white;">
    <h2>üéÅ –ü–æ–¥–∞—Ä–æ–∫ –¥–Ω—è</h2>
    <p id="giftMessage">–°–ª–µ–¥—É—é—â–∏–π –ø–æ–¥–∞—Ä–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ <span id="giftTimer"></span></p>
</div>
<!-- –†–∞–∑–¥–µ–ª –∫–ª—é—á–µ–π -->
<h2>–ö–ª—é—á–∏</h2>
<div class="button-container">
    <div class="shop-item">
        <div class="shop-button"><img src="key.png" alt="–¢–æ–≤–∞—Ä 1"></div>
        <div class="item-description">10 –∫–ª—é—á–µ–π</div>
        <button class="buy-button">
            <img src="5.png" alt="–ö—Ä–∏—Å—Ç–∞–ª–ª—ã">
            <span>1500</span>
        </button>
    </div>
    <div class="shop-item">
        <div class="shop-button"><img src="key.png" alt="–¢–æ–≤–∞—Ä 2"></div>
        <div class="item-description">50 –∫–ª—é—á–µ–π</div>
        <button class="buy-button">
            <img src="5.png" alt="–ö—Ä–∏—Å—Ç–∞–ª–ª—ã">
            <span>3200</span>
        </button>
    </div>
    <div class="shop-item">
        <div class="shop-button"><img src="key.png" alt="–¢–æ–≤–∞—Ä 3"></div>
        <div class="item-description">100 –∫–ª—é—á–µ–π</div>
        <button class="buy-button">
            <img src="5.png" alt="–ö—Ä–∏—Å—Ç–∞–ª–ª—ã">
            <span>10000</span>
        </button>
    </div>
</div>

<!-- –†–∞–∑–¥–µ–ª —Å–∫–∏–Ω–æ–≤ -->
<h2>–°–∫–∏–Ω—ã</h2>
<div class="button-container">
    <div class="shop-item">
        <div class="shop-button"><img src="1.jpg" alt="–°–∫–∏–Ω: Halloween"></div>
        <div class="item-description">–°–∫–∏–Ω: Halloween</div>
        <button class="buy-button">
            <img src="5.png" alt="–ö—Ä–∏—Å—Ç–∞–ª–ª—ã">
            <span>2300</span>
        </button>
    </div>
    <div class="shop-item">
        <div class="shop-button"><img src="e.png" alt="–°–∫–∏–Ω: –õ–µ—Ç—É—á–∞—è –º—ã—à—å"></div>
        <div class="item-description">–°–∫–∏–Ω: –õ–µ—Ç—É—á–∞—è –º—ã—à—å</div>
        <button class="buy-button">
            <img src="5.png" alt="–ö—Ä–∏—Å—Ç–∞–ª–ª—ã">
            <span>1000</span>
        </button>
    </div>
</div>

    <div class="stars">
        <div class="star" style="top: 10px; left: 20px; animation-duration: 6s;"></div>
        <div class="star" style="top: 50px; left: 80px; animation-duration: 4s;"></div>
        <div class="star" style="top: 150px; left: 40px; animation-duration: 5s;"></div>
        <div class="star" style="top: 200px; left: 100px; animation-duration: 3s;"></div>
        <div class="star" style="top: 250px; left: 60px; animation-duration: 6s;"></div>
        <div class="star" style="top: 300px; left: 120px; animation-duration: 4.5s;"></div>
        <div class="star" style="top: 350px; left: 200px; animation-duration: 5.5s;"></div>
        <div class="star" style="top: 400px; left: 150px; animation-duration: 3.5s;"></div>
        <div class="star" style="top: 450px; left: 250px; animation-duration: 4.2s;"></div>
        <div class="star" style="top: 500px; left: 300px; animation-duration: 5.8s;"></div>
    </div>

    <div class="stars"></div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ -->
    <div class="nav-buttons">
        <button class="nav-button" onclick="location.href='kliker.html'">
            <img src="3.png" alt="–ö–ª–∏–∫–µ—Ä" style="height: 100%;">
        </button>
        <button class="nav-button" onclick="location.href='menu.html'">
            <img src="m.png" alt="–î–æ–º–æ–π" style="height: 100%;">
        </button>
    </div>
    <script>
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    if (performance.navigation.type === 1) {
        window.location.href = 'index.html';
    }

    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ –∏ –∫–ª—é—á–µ–π
    let totalCrystals = localStorage.getItem('totalCrystals') || 0;
    let totalKeys = localStorage.getItem('totalKeys') || 0;
    document.getElementById('totalCrystals').textContent = totalCrystals;
    document.getElementById('totalKeys').textContent = totalKeys;
    function resetGame() {
    localStorage.clear(); // –û—á–∏—â–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
    window.location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
}
// –õ–æ–≥–∏–∫–∞ "–ü–æ–¥–∞—Ä–∫–∞ –¥–Ω—è"
function getRandomGift() {
    const isJackpot = Math.random() < 0.05; // 5% —à–∞–Ω—Å –Ω–∞ –¥–∂–µ–∫–ø–æ—Ç
    const giftType = Math.random() < 0.5 ? 'keys' : 'crystals';
    let amount, message;

    if (giftType === 'keys') {
        amount = isJackpot ? 11 : Math.floor(Math.random() * 11) + 1; // –æ—Ç 1 –¥–æ 11 –∫–ª—é—á–µ–π
        message = `${amount} –∫–ª—é—á–µ–π ${isJackpot ? 'üéâ –î–∂–µ–∫–ø–æ—Ç!' : ''}`;
        totalKeys = parseInt(localStorage.getItem('totalKeys') || '0') + amount;
        localStorage.setItem('totalKeys', totalKeys);
        document.getElementById('totalKeys').textContent = totalKeys;
    } else {
        amount = isJackpot ? 2000 : Math.floor(Math.random() * 1801) + 200; // –æ—Ç 200 –¥–æ 2000 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤
        message = `${amount} –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ ${isJackpot ? 'üéâ –î–∂–µ–∫–ø–æ—Ç!' : ''}`;
        totalCrystals = parseInt(localStorage.getItem('totalCrystals') || '0') + amount;
        localStorage.setItem('totalCrystals', totalCrystals);
        document.getElementById('totalCrystals').textContent = totalCrystals;
    }

    document.getElementById('giftMessage').textContent = `–ü–æ–ª—É—á–µ–Ω–æ: ${message}`;
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ
function showCenteredMessage(message) {
    const purchaseMessage = document.getElementById('purchase-message');
    purchaseMessage.textContent = message;
    purchaseMessage.style.visibility = 'visible';
    purchaseMessage.style.opacity = '1';
    purchaseMessage.style.display = 'block';

    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        purchaseMessage.style.opacity = '0';
        purchaseMessage.style.visibility = 'hidden';
        purchaseMessage.style.display = 'none';
    }, 2000);
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞
function claimGift() {
    const lastGiftTime = parseInt(localStorage.getItem('lastGiftTime') || '0');
    const now = Date.now();
    const threeHours = 3 * 60 * 60 * 1000;

    if (now - lastGiftTime >= threeHours) {
        getRandomGift();
        localStorage.setItem('lastGiftTime', now);
        document.getElementById('dailyGift').classList.remove('available');
    } else {
        showCenteredMessage("–ü–æ–¥–∞—Ä–æ–∫ –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞.");
    }
}

// –¢–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞
function startGiftTimer() {
    setInterval(() => {
        const timeRemaining = 3 * 60 * 60 * 1000 - (Date.now() - parseInt(localStorage.getItem('lastGiftTime') || '0'));
        
        if (timeRemaining <= 0) {
            document.getElementById('giftTimer').textContent = "–î–æ—Å—Ç—É–ø–µ–Ω! –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å!";
            document.getElementById('dailyGift').classList.add('available'); // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
        } else {
            document.getElementById('dailyGift').classList.remove('available'); // –£–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            const hours = Math.floor(timeRemaining / (60 * 60 * 1000));
            const minutes = Math.floor((timeRemaining % (60 * 60 * 1000)) / (60 * 1000));
            const seconds = Math.floor((timeRemaining % (60 * 1000)) / 1000);
            document.getElementById('giftTimer').textContent = `${hours}—á ${minutes}–º ${seconds}—Å`;
        }
    }, 1000);
}

// –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', startGiftTimer);

document.querySelectorAll('.buy-button').forEach((button, index) => {
    button.addEventListener('click', function () {
        const cost = parseInt(this.querySelector('span').textContent);
        let totalCrystals = parseInt(localStorage.getItem('totalCrystals') || '0');

        if (totalCrystals >= cost) {
            totalCrystals -= cost;
            localStorage.setItem('totalCrystals', totalCrystals);
            document.getElementById('totalCrystals').textContent = totalCrystals;

            if (index <= 2) { // –ü–æ–∫—É–ø–∫–∞ –∫–ª—é—á–µ–π (–∏–Ω–¥–µ–∫—Å—ã 0, 1 –∏ 2)
                let keysToBuy;
                switch (index) {
                    case 0: keysToBuy = 10; break;
                    case 1: keysToBuy = 50; break;
                    case 2: keysToBuy = 100; break;
                }
                let totalKeys = parseInt(localStorage.getItem('totalKeys') || '0');
                totalKeys += keysToBuy;
                localStorage.setItem('totalKeys', totalKeys);
                document.getElementById('totalKeys').textContent = totalKeys;
                showPurchaseMessage(`–ö—É–ø–ª–µ–Ω–æ ${keysToBuy} –∫–ª—é—á–µ–π –∑–∞ ${cost} –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤`);
            } else { // –ü–æ–∫—É–ø–∫–∞ —Å–∫–∏–Ω–æ–≤ (–∏–Ω–¥–µ–∫—Å—ã 3 –∏ 4)
                const skin = index === 3 ? 'halloween' : 'bat';
                localStorage.setItem('purchasedSkin', skin);
                showPurchaseMessage(`–ö—É–ø–ª–µ–Ω —Å–∫–∏–Ω ${skin === 'halloween' ? 'Halloween' : '–õ–µ—Ç—É—á–∞—è –º—ã—à—å'} –∑–∞ ${cost} –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤`);
                this.textContent = '–í—ã–±—Ä–∞—Ç—å';
                updateSkinButtonsState();
            }
        } else {
            showPurchaseMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤');
            return;
        }
    });
});

// –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–∫–∏–Ω–æ–≤: –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∫—É–ø–ª–µ–Ω–Ω—ã–µ —Å–∫–∏–Ω—ã
window.addEventListener('load', () => {
    const purchasedSkin = localStorage.getItem('purchasedSkin');
    const selectedSkin = localStorage.getItem('selectedSkin');

    if (!purchasedSkin) {
        return; // –ü—Ä–µ—Ä—ã–≤–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤
    }

    const halloweenButton = document.querySelectorAll('.buy-button')[3]; // Halloween —Å–∫–∏–Ω
    const batButton = document.querySelectorAll('.buy-button')[4];      // –õ–µ—Ç—É—á–∞—è –º—ã—à—å —Å–∫–∏–Ω

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ —Å–∫–∏–Ω–æ–≤
    function updateSkinSelection(selectedSkin) {
        if (selectedSkin === 'halloween') {
            halloweenButton.textContent = '–í—ã–±—Ä–∞–Ω–æ';
            halloweenButton.style.backgroundColor = 'red';
            batButton.textContent = '–í—ã–±—Ä–∞—Ç—å';
            batButton.style.backgroundColor = 'green';
        } else if (selectedSkin === 'bat') {
            batButton.textContent = '–í—ã–±—Ä–∞–Ω–æ';
            batButton.style.backgroundColor = 'red';
            halloweenButton.textContent = '–í—ã–±—Ä–∞—Ç—å';
            halloweenButton.style.backgroundColor = 'green';
        }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤
    function updateSkinButtonsState() {
        const purchasedHalloween = localStorage.getItem('purchasedSkin') === 'halloween';
        const purchasedBat = localStorage.getItem('purchasedSkin') === 'bat';

        if (purchasedHalloween) {
            halloweenButton.textContent = '–í—ã–±—Ä–∞—Ç—å';
            halloweenButton.style.backgroundColor = 'green';
        }

        if (purchasedBat) {
            batButton.textContent = '–í—ã–±—Ä–∞—Ç—å';
            batButton.style.backgroundColor = 'green';
        }

        if (selectedSkin === 'halloween') {
            updateSkinSelection('halloween');
        } else if (selectedSkin === 'bat') {
            updateSkinSelection('bat');
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    updateSkinButtonsState();

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Å–∫–∏–Ω–æ–≤
    halloweenButton.addEventListener('click', function () {
        if (localStorage.getItem('selectedSkin') !== 'halloween') {
            localStorage.setItem('selectedSkin', 'halloween');
            updateSkinSelection('halloween');
        }
    });

    batButton.addEventListener('click', function () {
        if (localStorage.getItem('selectedSkin') !== 'bat') {
            localStorage.setItem('selectedSkin', 'bat');
            updateSkinSelection('bat');
        }
    });
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–∫—É–ø–∫–µ
function showPurchaseMessage(message) {
    const purchaseMessage = document.getElementById('purchase-message');
    purchaseMessage.textContent = message;
    purchaseMessage.style.visibility = 'visible';
    purchaseMessage.style.opacity = '1';

    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        purchaseMessage.style.opacity = '0';
        purchaseMessage.style.visibility = 'hidden';
    }, 2000);
}



    </script>
    
</body>
</html>
